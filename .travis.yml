# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: o6ZxF9WX5OubikhSF3nOXFEFwImQ7volnhETyp3uxbukgYVHIN0y8FqcVCdGVXMfDrFDdQHwi/IgHp3bLIOiYYBhLC6JyioSnw70B3aGZqGlPKcIF36MDDT4y3P2paSpNhVsBqu7TL517sqp2/zboQWVM8hGGGe8FNPjUVhLmmZTLNspbddWnhWOdyPfrOKUpP3RdwYYhRNdcT4W9QB/YHDpTk+AM5nxRBc5dC4TMocVrKXrNvvKjhrBhK+PLPyc+1LoSaPivfZ9K18BLWBA4GmegaA9pm+5scNM7XRAU9sqrrECkKFp3y72DYIt5WlaEW/NUnM2zbxw0pYmxeXqvMmwb3NW2VZ6X0t4i7Cy4sNUwecK5W6tWo0g8Rh3bZPfGDfLBm8WHQrXdva1apdw2DB+1wSmXHQjK3lGHPN0TLW14Ncbz9NJG+RPAbwLT4ctUj+1WFQ6WupGHt3AAropCD1azFcnjwg8PFdVYq/4C199naOBfTTEt/6aELrogd/Ddyy16py1+KKhCvkjtD3Nm9TwXBFAMLX8yS8D134Y4wUZYzjE8+YJjHReAeZHK7fz7CJ5HHvsFILnVolQK8WUg8m5rgWxbK8HHLbZTKgLdX4P8bgIB2rTos3SDKM5jNc5BP9x/IVhzNZukJ7UH2oxvDJbcjHDjXr43BvdaaYHYeY=
  - secure: YycLmva+OIzq6sJx423ZZpIVqunU43swG6udNl8764ghzIgLVbwytBwJI/kwqP/mwkPnEWDWCBtqZyFX8l4C9hhe2YdVGOIUVFECuMDzaZgOoDG+yT+8F5tKJtADV6hg8GblLxHf5oyB3KiK/aQhu+dPC15WbChKgGtr8CzPHqv4wX9uGx46MmM8TPcpNMc3XrVUSXJtrqwVQurSO0HWAok7tw4X5TxDwhH7FjOeo0sX9kkH3XO0ye2bjuSOzTuJ608VMhRBuORBkfQ/TCPRL8lwhyLOOBY+/tV1BN68dy5WbgZhuCFaaNADRu0mE4Yt4bUIogdflAseqhJnyrnY8ztPLh4hHPUd5lrokI8to3A84rUcBvkZulafqOxIAgphkx8dC18p5pHooAlN3XDUEOdvjKz+qncRZevD8L3U5/09US865g/XZxEFFzRqHN6UbtVxrNefRQgrPDUaR/jVf5eCwnNo4BfMgGDGaio0zXpO4R61iHeHceYqTGcEKaa2paWgQZej9OaaotcTepQS8tnKwk49tNhDrilktuMGJcHtsXtR3Xcymwpuz0bGbX1QCa/jdWGrxOjnVNeq46YSPUnP+9Fzm+U2NouymIVgBzxJhoB/nEYDFeDmVHV5Xx0LFmJly/RTMzRXhzY13TCBD2tONU3UJmS9Tr/NVKhOoQo=
  - secure: mddZ5TiRZSO+Mx9ekDlavxuZ/udvUDa64nD1nda8Oeu+Bz2xiYTN35tDHLyDJFm2kEMIJA3JCdqBOXbWmYdzXyyqWr6pTL1Oz+mzpb76TjYvDhXMjj6mF6gb3sxjwH2YATICLtCRzmdbL50uPDB0XHtTtE2oyze8U/udRMGtW+2K/2R8uskcCahFTtkRNHB8dLts/PjydBnJY+asbv0qNmAg5MeoMRHkJCjCLokRFf3CpfVui2cm/rr2K7qK8TRb08KUB9k2kykG7XnGngy/QrPasZNKsPSN1ZTi/VK5gt9ITpPzbGdXK7NoinmH1QPrfZF1fn80yJ5cMRfeCXgIpMc5EvutguGKh4P8JDxl1fv3J9MpVkYtveMq1m92GQiAsJefa1zQJIGLnzFlPih58dGx19AeLoNm6ZZpHK0j/qD1mBUhIcttRgX3BX3KIP8nhIEaRdFcR6T3Wn6V5xr57fNKswMs/YMiMaLHqcM45ZUCdgUT9DvkGl8Hp1SFH+tQRzJQ59/32ipGY7wyW5g76KqWzo4S/ty4m7ENu8BeC+0GkEPxls94mUY3hOHRswopnyuTjoJcjvsAOpllG1dH6fAK4JIjcUwgiMhNL/o+CSBMTDHf1OxnkYplNmoZwXYGzr/62JdikCZt7N+JUuyuOCjxR1aNwlgFAbLOt7rjlO4=
  - secure: h2tf5rnv9yfX7lNWZEo6OJLSTAypY2bu3zaaNeQ5dbQQzSmPPSUmXemDBN2H3RnlHY1dTTZplgnhLltZ+4IVFUeC+hHpEovs5y/US/8eKaUNEJqJbxXYicJ2DTh+eWRFnnALxiJmIjpo3JOGjYsX3NCCLWEF1yd6R94JT1hHxlrFEgiP3+h3wDJoDYxlSdNSRJM6pvyq471Uq5/sv/nhmTKKG4F+Mpb/iUb7w34apx0a/97KImnyFDBzx5QZk3frHKPdCr1dT+8XUBtbS13HjydFuyeE/mF3SBVX0RWmmuP1v/lGaKfsvyvu21i2dxaVTettNRmDqugc4+IS3L27QJs+kXP3/rIe+inEzOPFVLPuRbVbaRWpM31tiTuyqQ4Y49Y8eW8LsTEnrZFEIyYBsM2kNaoS2zIweO2v8BQHzSYF/wRUoYdHuV4whah7Rl8n5jWX7ECHxdXKXMQPMHAB0OR/jseZA+R9dqg78IUPpV5D3YpHx5D3kz06IcoRkbwQ3CHkASguCWW0z5oFJULmq1BxhKXKb1gTfSqV0Ucy3nGBnqOb+klaiLjyOa2VlvtrCd3FufEfRvTIVRHC1VbGqnMcEDztc6687p3+1c7PBkH5L36gnGKOONeZ+wU4S2pCeSZ3aWFKLKKru53SlJLCTWx3t639o1mOtf5tsUzIMi4=
  - secure: njmMj3VwEdnebuug+zijn/zWuXGfCRiTJeCWevdEY5wN4pE4fte7SvbiRQUApS0Wx2ueh3hu5Lxx0bhnBEiU9Vf/2DRCDyiwVZJalhixCYsRE8xrebX38PMxZEhrriWi6k9OLvGfC3cTUxrHdvizeHwEZMJMivL/H7d5qpezBzeKHw4+HHooxJa4OoIBLGkUhXFzJkQec+OZgruV5SKY8kzG1wN33s2aTS6jdSR3K8/Zrdm7ocA/OmSRN2oJn8EbJPlwSf5Z2Y0Lxt7rvCB37RqPh3vwEsY5U/EXC7WjLcXTvASEWwFlFE//9cpY+OYPkOOKq3844QEc+pDfgEjthGSnFGLP6XvHPe5fJRt3a342OeAubeYiy81540pSnnWLTuqzWESIP5wDAHVQbqULLub2OkcNHZqlpTqxrvhUm1FNth6hhtlhlzd+hHMQhsn2U7yRkzWTr/m2+HO9I6E96z297yx8UyUv9JRAvCUBwiGFbXfwRQMCitUiHHrrqswwYBvpw7I8SiIURayiKYfXK3Zmaey7VLNRzAP8+hiFO3jjZvs/SF2o98fA5sUBJOpi6xt1lI+Jb2+Ugw5iDouGxY6Qpf9Qq+SeT1cf8Hjd2M0tRvS7rKUM6+ilT8TCJMN4fbjz1vcT+7Yet8WD2gK3ltB0B1t1R9SidxgE8BNT0FY=
  - secure: a4jT3tsvcMImgMJaGsl/AJJ5yFO0LISHuuDD/kMSrJN2s/n7PcUqs/B7ogMZIdgfIr1eLHuXmGNO7XfgZxuWgVpIctQ+iUImFt+Jt5PHf8w4/99hTyE/nCVHTQ2E8gMpbuTurSAskHV/c+aXng3RRxQB6y+qQZwTFdjiTavjfzkpgM9ZVxb3fm3J0+oBlXmM7Aj/wHuqJN3g1PfdsmdYlNHpyv4GROof51ASXN6K/jkGSbUep6+lANttPb7JoP9ErXw9GCaMu/uwqKaBHRac3+NMxYzIetgCeptPjlgKyac9/YYn9m9Gbo8Kop9WZ1v5l7oV5OURlKJDrw8MYoJ4NLM9SctTvOzFXUZjRdKauRIyRzJotM7B/5rd2a373fHfK46aXxJSkmBguwlvU/uQC4IahPlzYqQUWArOiQVN+O2txUJLDpx2atBaoaFxEpq+j/kEVxV27Ix3PbrHCeXG7pqdwx5RcOD4rnkLb5yRFzoR970TyrNaP5oKveMM4ym9xD+AMW3vsBjzilea/Hq97hdzGV7yHfL8POIwBWgzsaskKgMeTt2NYDje4M+QU2pmunnc+uya1gAArjPQ4Hzaa9aQJAXPfb7VY/Pw5OqnZFOX4BubKrsTzvr4jImGJRQ8Tt3VvYKtIl33ZmpFRivOpnq+YcWHIef5QJDmW+Z9ztk=
  - secure: ZtpmhdH/ooEuzv+C4/cSG0Lvs95mpi82wsoTnMkkJKSGwgpbwGPg0ML3MadYoDede+D5FTc89WpbjlRax5uKK0jBzThWr5swaYIhpaJwhuZm1iFljavzeect1WMAIuhrV435HuOqG3Cpl83doQ0RFhx2wcnrFXSqfrm4O25acX7koO+phVUcg5+PaEGrFo3KuPh+byOVabpLBfIgMx15sOqY9/9tBUG5n/7lD0GacryaNGOjNvJHCtJlFjhfev7EV2yc2NANeSTCG0Dbh64iieEppTIV82iiJeYgEXwEmi1JEdWqy86o4ONvTaAXWwqzAoUuvxx7rIgm4eYyHKEwNugDcKRIDJ/Kd3JCrVb/Bse/C2D3ruLLWGToLhUYRik5gulqojad3wteoeOIt2oEyX0OP86YUUADQX35sVxgQytJ6ugMqa5qev9xGzEyBMC/1eVbE5JOB14kjhYOMU4AHRRnlRWxUA6jnoK81yKnqKoulC/+keSw2m8tZSVBn1kWzOo7ZKzhncVfKjJwZbhv2hq+EQhV+prfwcpp8jYQVQTcX2FP7fyJw53mq1E1T7M5WSGEXGZqeeYR1NRpV6i6ZvtBkxfFbgZerpGi800g5ed9TBCzrRl2iE44oUTlUgCYbVXgZh0+eY1H6QkZb44timBW9cjSBCiRP+tjwJSYSEc=
