# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: RVnfK0HhOSZS1rBkm3vLumhCcEsnYDsvqNwlEqUjXlajBNE8mLqRP6tEs6wNhUumQN8BToe3OmJwhZ88FILdCJkOZkf2gEejwNGk02+CCLWNXRHdvsrjMCd/TkVqTc3m5d5aPi+bp7mDmLrJW6NnrXSSeHhoh8RVgbOQqJDi4lyVNE8qx+9xJ2azvBgbDBoZBLFBTQ+PpWSdlfpOSc3flBebLvnNnb7u9xNFPf+wWsqSjg8OQxcBxR88PORjv/3HT1S5pJcAbbkbd4iWAdaJMEKJyimurMLTik4tKUSUXYjuvJyX0Au/Fcr/wy7VcDa3i3q8keD/H1ZMf0R50JzsEGhaCymlUARaWJu9q741RyGiNI1pno1hzKTy5mtYoXv8exDQLRzmb02A8pwIwKG8QPgwPCayaCxs4wEuZcBB20yH3QVT3OZgCbf/vrZcZNfC1kft3B7dpVwW0TbI9oCOuBOZ5lRHeEN/uAoVZsnXc7D99FMMfoplo2nJNDAnzs2/lWKuR0r7lRNx8v3M98aoNa3YGo6l4oByDksvpT3kC9PlZtx8VrSLtfLSYCjPHWHTZIOxoyDZ2Euht1wu5m6anh8J+tJtlma+3LlKProqDeuqX7wVRVjFjo8aM6B3EHyTzHff7SZ1gprJrdGRfvI1nB1milRbnN9bMmcqNrIXG8I=
  - secure: iWLTptxYxOTxMhlwfIOceA534U00OjRxBo9y/+1edRcPIITZJ1BGg/UQ4kP1qfSjqh//Cs50iN0/2HyxIrrf6nAMrVMTnkgEErwCyacgmBxXNLbUaTG3phsMhauhYva5gmLo5VP2XMEyzk/ew+N6FQqK489EYpSCFSM4hW5K2alAIof+He/+nUfq60e0Y9R1Ek9+PNPCndvLwb6RNhjV8sng6MP4s9NKPOx3YeqXETBs87VmOyxAfsNX9YB9LIcLshpyM1/3FUd43UfA2Xd35+w0wuCbesl1JGUmFLbcu1WaTHivTE1WDwD+o7dORuFcLIQO2S4MKKD9nQ/K47bdsHEoeFYZYxtelqMnVkD0LTMpQrWFodoFIcgOFrexaXmyqMMyrG5c6ZPPphzAiAT65rR65OGiI6Bxaa8jx5Gs3aVQ/IyZ/W4nkL1cPlq7D/vx5HKvbLHsQ9SH14/ZpBTRmZZ/vvk7Etv2CrD2cROYdW8C+NZhrMRBiTqh02vdrw38uK33G3gN6qwtn6LTFyDtbytn1kYzAuuYYFOAmPxp5LZezndbmqw7JMBuSoNLWYWSAs+f7fGq2a6NveMpgTTtqo1WXPdOEWHxEE2dydV+FVlvccxoP87trjT+E9p6lGYeBY5ZbH6zsa/UPSPqN/wOvGvfRDPSKeJZvitAuN7zNuA=
  - secure: E5UpzQn48QdrXNNKTCkx6+0EKPg2cpJm+W6NIgdHTJKh9NbEycBd+XueYqlwJny7wobX/VN8IoTQz8nCyuyOzfK58qafAS8NDUtBMZ8TgVDB8rVJIG4+KhnMXd8/GwdGtycmFXF29MPMfcdBUdnyi/Z/onxdWYPmNPBFslg3Au+LFZn6MCj+UB4K+vXXIPxINLAnA5VzRO+yP9boBNmQZpF2c4AWuQJ9ih1OIh21OueNLZLS2y/lsXgZ607DUWLls4PPTvP10x0dJS74UgeBtUd2kynyCD0ul5yNDHLbZwEgK9wQg2nUyJkG06f4lqKdLd/01Xl/KqUvFqf2K8SOz7cAZ2QJwSCo/IpqM5oLzUuOXeUgcmHEAPn38EAChl6DYSZtHyZ1ZLsSJJbk5sTB7j6zNXcLZJ0bh1BvEU77MSrj3XdCoxdcioLK/M0o0y/hqXoxGcGZawZJrZcQImEXzEZYrJMkWTlV+VBE9fSlsZeJ1uewoH7hC2UtSt5RgUE+PAaEeUNH41mYfoxyEcsyfBJvf7SgMuLIgzf78i2aZ38MGo82seooZr0c6+iw7pXqdXkZuRyleGlfP8f1nmb6XQ/1r2x8VUx+mxhhwWyXg90xJc3DUsUevww4/zIeywrFIfyv4YwhyML1JPmsc0/DF35VefzGHw8tdAFgClVPwII=
  - secure: UkXwMsptq/S1KHXD7BfBkKahwNLk4mher4Cgos5WfKoaMt7gmI2PyPgWP8/goWrwFV8MTgNhhA5L7GkM5We1PbDk5DZvemXNqATUFiWKk4n3hi7hLfdDZPTWOw4SiwmufEixbx5/gIj6mew7THj9jZ3olZEBOUi3T142d+oNsP/29D64yLrg9OAxWItY4wJNBPPqL/pok5IIQ089K2w8NZW7VjvnmUycNt9Dou+ibU1pbp8xFyRQ65ARimitZXDi11aUcBP79ZZIFyos2SC+0M7KC2O5AIcXJJGLIU6Q1r/tK3obP97PH5WYwwHXQFfn4wla8gUxEcLfdIq4wnVIi5X8qiCo4d3N38Y0ALQCCJ9WU4rDyZdC54Yk/MEqt9Ze0d8CORKA0DYz4HIcOv4iA3z5qmNtL/fTCEzCYwA4l6rPOGLrZNRGeFDPxqnYuavTWOJTzGoOOvnFgg4S+6R2RVyqBimxsHogLjjjaWqvKwrjZBOt+oniOIbFoM0HULqXpjAzNzxzd55gV4H2JXqMx4EbOXNYIw9JTjKjWzJBiCZa+XyNKSMQahAJY4eekgAxG3PSF0Uf1nDPKhrOJ14PJPbZ0jmXt+hxOjtY8tdI7suqOC9uFn0xC67LE7njQ61JiSXAecF2B5UzfvAIhelcFhpYXKSPYy6EasncIggZuVo=
  - secure: FG+7VTirys7AXCIeKF8DF+Oc25XKoUxLzCJfx7ZGNFz8+qd9OC1sp1ne6aBraMiCgWdyIscf1EoKCVDBUQEELd8D9c20ewQJdcwH7dqCWOtGcy/GPc4t7teC9t5zfcUPF38SJR8w2kBwAkQEVNweDRwbdSaMuQjzGA1ot+B75xPc8N81MEEUp9DR5Y4SkIpg/wEzWMo9Zj8ytinYL9D9fZLF14TnFdL6kZF2bkpaavuI/tConsGBMxa2NMB99asGGStAhrQuUjl6++oWCUrUKVNke3OtJhzfMkT/sYCACGptDbcfX9Rzeb+GVm/ayME1BtSRNYJ/nqiymwAlry8HdHECnmcmMAutNC3YqAGjC5UvSxiZ8nUN9m3+hpcjb9uF7+5kmi70bWp+L9wIi9Ljl2UEFe6XCRWQKXLJd5SAX4byjbVhbCuXwCbRuaawYQZCHycQREz/wRHJs2cNpzKhMGSQDdKPdOMOLIXVnZNlY7OcWC8aILwl5s33VjUA2ar3eeYO63qSPqiix4leFKCB3WkMPMaHAE1zOPaPJ1zDMfS+DhQfXc+wnJDG/2o/k7uoJ8YKvDZJdcALzLgojMSUQWj2Axcso7J2Tl4ZuL16S4Iv/jgJnrPbPsYHr5HvOaqux5gwiRIfIZZrHtj6TpKXZnougMa2ZaSeQXJmbGfiDrI=
  - secure: FQ9JSfofQ7yCEY6KWHS3BqHZVmzdOQaJb4VNfxo7AtglLtrNWsp1CzfhZ2/dJ/R3vwwOFO4Cc9XH/B7VWbpI+Wl57Cg1k5ypPVvNSyUjxkIyGQ7k/Z1e8mLLrP1TkBo977/3qncseLFNw4tRuQ0CTo0Cg81GFT1Et6O5bqOdNdZmaoC7QrpJqisrU/xD6sA/hY9X1N/sEgFXQm44lqhRTntkmZHGlvU/lJyxQBkhH0nofS3l4J/NGAhcXmr06TjI3RLPdFW6noyq7VfqAGy5KAAdE9cWlPaA22479alAk9mXd8gYIs+nhGTp7olxll+bxtbfUBN0/l7Hr6xwIJN11oI25uIjO94x6XPdWLWazRQmc4bWfqvspHvseL14Rx/jH/i3gn/Qts3KihrxegmtSHQXIq31ZM0+s6dwchoz7eO6JdyV4dzy2MzDVBFS4DTKy9uw2VclKJFwfsVV9DEbOhEENvdRck6DifLt3nnjmGULlNUUyD4/Z30SqK4HMTvLB85VcEyLEGMlRvFzLteVO6YswCoZ8hvp4+2ys3vnlRr6Mhu4CxNeR/0L+mN3+IWzJe1VWBiZVxP4/y1jpyV4y4wX7YeRcQbwBubvrkoTgNWBQ9wQCC202cIVH6IatLjKqr0/EOrYcvVpX562ccNQd0SLdQl6/9o1xYhGwkDYLto=
  - secure: 
  - secure: xW8O/K1nWt9qjGG/OtBH8r09vebXd79pKwGQvm3ODW9/KgRtzQNIlvnAzCflyUqEQ70bUIxU9xXR87qApyMqMVBpM7QU9f1/sP0ExiOpjvD3Vjkh+zEJ1R41dcF9KwXM7jHpApI188DPLIZsTIsEFPujSg+zFnyvExG3fe0sj6YubulMLXfpaQuLkLvur5IRWtA0qAmsDszy57IIXTx1HZPQ6Hc2T8awoaeroLuJM98+gxiJzihBbRYnpwd/CirDtM+39V/QjHYyInhQmwwqxm8ztJCDHzR02O+Rq83msmnYQTlvbA+tshUF/qfOTCjiaeRsFRBk9iMTnqVhEttkmDv4FmHw3wuXpvLwXM02vZx7VWwuI/I5Ck3AntNJTSiQ9zAvzVH1+6l47B6eD7mbUSkDFw4IZ4tsZbS/NhuzMTSmelXNDNf1UG090Z3R+TXyBU+P3yUiZFha9EgEAk1AFnw1b9TR7lg1mqOxg0RPfzYJbJM/mOzqZliQ+lG3WfKCC3LBm1qFqSy8aRkfbjZSVhwDC8j6j+NPfJMq/aNbBRy2NAMytiCQ8vHqX7CSR0COn7GRzq0hJlzlvbcC5XeeW8ng6JJ+QUCbcp+T0znLPLS+zwQcd8tQExJ+qe3a0o1ZtQADjA6fgUGcFAy3Dur3MZ4WO5/0Llkb9LbDZJf046g=
  - secure: nWVPsXfvAbXFTbnEkZbnAiWuy+5WGAgHJzH5YfTFV8EtFevBl4NsCElzuDzb7efadPfoKE7S9v+dQ3hUgDORGONhc8I6xoRs7kGOkzeHlyUcxyWbuHZfsr+T/N8LYCAihffBPtJBlWSp83u1pQMgmaa3J6lMTJan21bo/6Whs9Zl1NrQausNSBOKAqnw1uvylGDPVeU/Fq93JugfvIeOa2N46LG+sERxestcuKkK1heaiVSrHNzEYSOHJn1LdCGTeYGp5DJE4N5V+AAb5bVfuSYcBkv04Qas8qcf7mi1w9HLfeEYxkL/7pTgd9dAhekdsxl84X2nUsJ2g3AeEpGGDoNdSIyC4Oe067g2DiEBNaHVOG2OaiNuqJTVU2O7TpfWa7GSHztx7KtYXwQDiEST3mQSlY5qWfyOY9WnoWwPmhsM2YbCDEyZHUIj58SlV09SiXA5BLfkSNsgabjrYb8eocPRXNz3ATns6uF+TcAATc4oKzMIhjKebi2IFKwEWh2DNrPfxYdLoVIThC15DWIqgIu1MgqHD2O4Nh9BxuUabzkBUr8OME/0+0BmCJUnRgH8/XxgPMP3yGcq2lynCyb8KRrBfG25oWbtOupwD790hgvRbGpz8V0Gge78PPhgAl/LdyAHuwmXF/QJo9ID1T3Olbzeu+5PJOjR+rq5ZVsg7/M=
  - secure: L4DDCHA55CEyRLoNTssIkXaflQJ9WneQg9mfmobLk3UB7ql3MSw6trWtF9BHwoTuSzbxqiKVjV6rZOEU7dKQBRDk3wLUG6fiYceclWIVf4zredPgIbhBDwe6SYl0DfKk3f1Gs8Coa9XjqHrOQDDqNJtYAiw1p90k8IAlwlt3UWk1BEhk8IKgToWex++LyEpHnvF3NNUQO4XXGCoQZcB+kLf/z0GhNUxKIY0oMuiYYRxF7YipQluuXPdBE101Uy/w3uqNe30DQHEntVDcrtf99T6iybxmdf/bVo3QMcdEQIZgkGbtfySuPW2hFKAg9+eBqWtnBlKKL42J/IELOUknXyDIdLbcthXNOfe3hXg3qE7HnLfvYT1UGCnv13QKhUiLYlg7MLKjACrkyfm1WMmu9atRbxvRz3cfJ+YhmBKEci8ghFNRN9TEJBBUqfnXSz2p4IMVi8UdEggcTTrrLpjzCzJ6VniQeqrWhP8dVXvcVz73Vbr0M5WXvN3xz1+ua8hPPjmchs2OlOqpKe1XskWXjQnAEoMxa1eo5yzOJeobiE02+/0WYHMPxHAT70AoAroEBjGJ3Ca6UjatF1qOn5MvPpnssSiDVpSkgmESMggTfRvQgqPSNOk7MuGRM+b1hlRkFs+9AOFj5OgrO6VBZc46HXVDSW2qaI4jseN4xN5RCk4=
  - secure: vrUFdj1FcoTB9yN95G7UXo/Vjtkm53fzxu6ImizIxcdNzmt43qH80JXS7E0dX1XQpsIf86WuGIfu55Q/VUhk6/rmrRrxeibjGgnCYVoZqiwmx/0uzMJTjpB83tfubvqio9Bp1Sszwl37L/KCVJmljECEnldJ9ZJk8LAT+M1BeV9TIpJrxUwJUC0YnqLGXl+LxwEsf1NqH7lRPhi3rUAktaak8D4sosqCxP9oI5k8nIHbiGpykXsvElNfSTf5RAl4ylzKKqHwH68E0i61gHO39VR7yqyAkeBwCcQq8Y2nHUrhji5lPfJycwAO53ZloxzsTc2mdW14iwCIWKZSWDgLNSk8nSTrOSoNbJFdNKjYux3EpKMaiv6xtC+3MRTBFDZ6IV7kIiO23SXPeTSWaT45UXMN+jni7vHrW7tS3NLigAGCtdRY+m8guRVeU9hnTIZZcFfeBIjTEAHxqVTTziYdPW2M2TWPy4QxRSsbRZiXOdJjZNlCICvPhsD5YklSjvpLsEpJHCDNTcIXQEwcrLv/o5vRSUCw0TlEBeZXGvP9jk5RX5X8Fb6xpVyBd8o88eMl/CIdXOrbi+DDt7n7JHlSpGkBYMLB4YR+mnXif6AgN/TsbSRbXTMmXXGB+FrEouYhZUSx5KptZhem2DOK8C1IoMsb1ZFs+a3xTvKJOVJhaEQ=
  - secure: EcmvD+VR+5Kq2v4hxI5z2bO3qNQ/K3P1IjFPwtRczr7rkbdXBJWANJaWOX6RGlEuS6MQ9KwRvIvVeH2AjxPA8714mDRIduQ6IJSLQK9BpOja6RDsbkze2qcTrWqQPcfIN/LaZYF3kYDio6PmO0kmmpmCD4XIH/CVuWD+ep6QzMzXBgQuc/AyeCKZPpdEob0t4bzsM3O3jRhpmstFuMvfEobzN/x8RjlcrnV1Uba/D5M9gp9UdOTeSchTsubGccXuKByB538utWMEJ2mRWQgPSWuZHJ5rMrzWG3erxiIZZwyi3O/oeCircOuFCyHz9k8ei802ukwTE29nmD8IlmpraKhSsFILlQ6N40DVScxdlmj+/puMRivEnqlkrdE4/RYlMAp6sW75sRug6aqPDKHx0ONIi/BJjBZ6siIUFOeVZ7XQKBRR4iLoFQcFe0AJM0aCiu75aN9KKLK3dQd8dcSKRTAVzhRggVbgE+pbu34b6fSdCXgBuJDTWweuFZVminRvRWNEJ1FlIG6Ni01+yC8MaPGiiFi33XpAkenl6xWojUd74BCVAMShgBvTt7umMJj/z/fRTB5GnCJOO8QWeEMRG47QizuE9+TN0fC/qy+l+9wlOafXZU/3i0Y026FNheapAER11WuZFU7cZ5nvGVt7bBtS8UA82/ZxMbadlfqTJ7o=
  - secure: DsJsZ2fwqfKDAY4pMX3vrtwUkwF1f8dtUa5CLOMgCSV+GzAp5Z2KRNApT1hhrDJze+5l3LIkbOrP+M6fhoCGSCsDdaNLzHnx7f/7+H5/SLSGDHQIy1lTftVByedLHjIa4h9aFI31oqQORqBd7lNmPAdVxruF/Oox9dxPM3RYVvF/UQY6T0h8MIqXk7ZEtDOcz1DXbCeTKAhFYcTccEHdGjqCcZOmjvAsAjDJlynSxcPUREqPeR/2l2Z2uj/Tmy7lSd1Cu3qwoolxP7wnX6uK6QsFuJp73aoNHZ5T40k4YJ267aLZC7hlCcQvmWKmRiQQAQWGoQfHqqWnkLqA9cusc3YdZPhaW4INJVMgQHFRt7ATBrkllrLpiqxtQ6epYwneGsPitrKwykzG3Vd4/6HgEoxZX9ZNSZigwUk2zHWx3RfYknqEgb4sS6EhtU9jzH0//H/jEH+oUfdU01+xb1xQM+U0iYPlgtPPHesUk8+krF4ilP/8KNPGnZH73FzPD4TGRG2vdMjhlnW0wWVe6GEsBQN9TIQQVOKlNhUcdUxD2xVneUjQDh3q+5pnDNzq5xXDUqGFAghe1VR3hst5kGZ+FPLG4vOWIfmscRkn7U+hSCIvyFPj9WSXi3swmAq9s6+zHg4zJXs5W3fqbbv4+dig14Km4F/S+XrOHuYybt2NMUo=
